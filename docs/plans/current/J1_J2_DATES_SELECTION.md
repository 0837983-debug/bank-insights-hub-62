# –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –î–∞—Ç—ã –∏–∑ v_kpi_all + –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–æ–≤ –≤ UI

> **–°–æ–∑–¥–∞–Ω**: 2026-01-23  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω  
> **Roadmap**: `docs/plans/ROADMAP.md` ‚Äî J.1 + J.2

---

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ù—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç `periodService` –∫ –¥–∞–Ω–Ω—ã–º –∏–∑ –ë–î –∏ –¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–æ–≤.  
–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞—Ç ‚Äî `mart.v_kpi_all` (distinct period_date), —Å –ø–æ–º–µ—Ç–∫–∞–º–∏:
`p1` = –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–∞—Ç–∞, `p2` = –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω—è—è, `p3` = –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–∞—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≥–æ–¥–∞.

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–±–µ–∑ –¥–æ–ø. –æ–±—Å—É–∂–¥–µ–Ω–∏–π):**
- –î–∞—Ç—ã –æ—Ç–¥–∞—ë–º –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–π VIEW (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mart.v_p_dates`) –∫–∞–∫ —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫.
- `header_dates` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQL Builder (–±–µ–∑ —Å–ø–µ—Ü‚Äë–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ `dataRoutes`).
- UI: –æ–¥–Ω–æ –æ–∫–Ω–æ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–∞—Ç. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –¥–æ 3 –¥–∞—Ç:
  - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç–µ —Å–Ω–∏–º–∞–µ—Ç –≤—ã–±–æ—Ä
  - p1/p2/p3 –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–∞—Ç (p1 = —Å–∞–º–∞—è –Ω–æ–≤–∞—è, p3 = —Å–∞–º–∞—è —Å—Ç–∞—Ä–∞—è)
  - –∫–Ω–æ–ø–∫–∞ Apply –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (—Å –º–æ–∫–∞–º–∏):**
- Frontend –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ Backend, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç.
- –ü–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Backend –º–æ–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è, –∏ —Ñ—Ä–æ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π `getData('header_dates')`.

**–§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:**
- `docs/context/backend.md`
- `docs/context/database.md`
- `docs/context/frontend.md`
- `docs/api/get-data.md`
- `docs/architecture/layout.md`

---

## –≠—Ç–∞–ø 1: Backend ‚úÖ

**–°—É–±–∞–≥–µ–Ω—Ç**: `backend-agent`  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ó–∞–¥–∞—á–∏:
- [x] –°–æ–∑–¥–∞—Ç—å VIEW (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mart.v_p_dates`) –Ω–∞ –æ—Å–Ω–æ–≤–µ `mart.v_kpi_all`:
  - `period_date` (distinct, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
  - `is_p1` = last date
  - `is_p2` = second last date
  - `is_p3` = last date of previous year (year(p1)-1)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `config.component_queries` –¥–ª—è `query_id='header_dates'`:
  - Select –∏–∑ –Ω–æ–≤–æ–π VIEW
  - –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª—è –≤ camelCase (`periodDate`, `isP1`, `isP2`, `isP3`)
- [x] –£–¥–∞–ª–∏—Ç—å —Å–ø–µ—Ü‚Äë–æ–±—Ä–∞–±–æ—Ç–∫—É `header_dates` –≤ `backend/src/routes/dataRoutes.ts`
  - `getPeriodDates` –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] –ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `periodService.getPeriodDates` (–∏–ª–∏ —Å–∞–º —Å–µ—Ä–≤–∏—Å, –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `docs/context/backend.md` –∏ `docs/context/database.md`

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `backend/src/migrations/0xx_create_v_kpi_dates.sql`
- `backend/src/migrations/0xx_update_header_dates_query.sql`
- `backend/src/routes/dataRoutes.ts`
- `backend/src/services/mart/base/periodService.ts`
- `docs/context/backend.md`
- `docs/context/database.md`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [x] `GET /api/data?query_id=header_dates` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–∞—Ç —Å —Ñ–ª–∞–≥–∞–º–∏ p1/p2/p3.
- [x] –í `dataRoutes.ts` –Ω–µ—Ç —Å–ø–µ—Ü‚Äë–≤–µ—Ç–∫–∏ –¥–ª—è `header_dates`.
- [x] `periodService` deprecated, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

### üìã –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è Executor (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Task tool!):

```javascript
Task(
  subagent_type: "backend-agent",
  description: "Create kpi dates view and use SQL builder",
  prompt: `
    –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:
    1. –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/agents/backend-agent.md
    2. –ü—Ä–æ—á–∏—Ç–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: docs/context/backend.md, docs/context/database.md
    3. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π –¢–û–õ–¨–ö–û —Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø–ª–∞–Ω–µ
    4. –ù–ï –¥–æ–±–∞–≤–ª—è–π fallback/legacy –ª–æ–≥–∏–∫—É

    –ü—Ä–æ—á–∏—Ç–∞–π –ø–ª–∞–Ω: docs/plans/current/J1_J2_DATES_SELECTION.md, —Ä–∞–∑–¥–µ–ª "–≠—Ç–∞–ø 1: Backend"
    
    –í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞.
    
    –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
    - –ü—Ä–æ–≤–µ—Ä—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é: cd backend && npm run build
    - –û–±–Ω–æ–≤–∏ docs/context/backend.md –∏ docs/context/database.md
    - –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ –≤ –ø–ª–∞–Ω–µ –Ω–∞ ‚úÖ
  `
)
```

---

## –≠—Ç–∞–ø 2: Frontend (–º–æ–∫–∏) ‚è∏Ô∏è

**–°—É–±–∞–≥–µ–Ω—Ç**: `frontend-agent`  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç  
**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç

### –ó–∞–¥–∞—á–∏:
- [ ] –°–¥–µ–ª–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç (–ª–æ–∫–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ UI.
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI: –æ–¥–Ω–æ –æ–∫–Ω–æ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–∞—Ç –∏ –∫–ª–∏–∫–æ–º –≤—ã–±–æ—Ä–∞ (–¥–æ 3 –¥–∞—Ç).
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞/—Å–Ω—è—Ç–∏—è –≤—ã–±–æ—Ä–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞—Ç –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–ª—è p1/p2/p3 (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ getData).
- [ ] –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å fallback/legacy –ª–æ–≥–∏–∫—É ‚Äî –º–æ–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ, –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –Ω–∞ —ç—Ç–∞–ø–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `docs/context/frontend.md`.
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å `npm run test:frontend`.

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `src/pages/DynamicDashboard.tsx`
- `src/components/Header.tsx` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è UI –¥–∞—Ç)
- `docs/context/frontend.md`

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –¥–æ 3 –¥–∞—Ç –∫–ª–∏–∫–∞–º–∏ –∏ –Ω–∞–∂–∞—Ç—å Apply (–ª–æ–∫–∞–ª—å–Ω–æ).
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ —Å–Ω–∏–º–∞–µ—Ç –≤—ã–±–æ—Ä.
- [ ] p1/p2/p3 –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–∞—Ç.
- [ ] UI –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –∏ –Ω–µ –ª–æ–º–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏/—Ç–∞–±–ª–∏—Ü—ã.
- [ ] –¢–µ—Å—Ç—ã —Ñ—Ä–æ–Ω—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç.

### üìã –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è Executor (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Task tool!):

```javascript
Task(
  subagent_type: "frontend-agent",
  description: "Build date picker with mocks",
  prompt: `
    –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:
    1. –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/agents/frontend-agent.md
    2. –ü—Ä–æ—á–∏—Ç–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: docs/context/frontend.md
    3. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π –¢–û–õ–¨–ö–û —Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø–ª–∞–Ω–µ
    4. –ù–ï –¥–æ–±–∞–≤–ª—è–π fallback/legacy –ª–æ–≥–∏–∫—É

    –ü—Ä–æ—á–∏—Ç–∞–π –ø–ª–∞–Ω: docs/plans/current/J1_J2_DATES_SELECTION.md, —Ä–∞–∑–¥–µ–ª "–≠—Ç–∞–ø 2: Frontend (–º–æ–∫–∏)"
    
    –í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞.
    
    –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
    - –ü—Ä–æ–≤–µ—Ä—å —Å–±–æ—Ä–∫—É: npm run build
    - –ü—Ä–æ–≥–æ–Ω–∏ —Ç–µ—Å—Ç—ã: npm run test:frontend
    - –û–±–Ω–æ–≤–∏ docs/context/frontend.md
    - –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ –≤ –ø–ª–∞–Ω–µ –Ω–∞ ‚úÖ
  `
)
```

---

## –≠—Ç–∞–ø 3: Frontend (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è) ‚úÖ

**–°—É–±–∞–≥–µ–Ω—Ç**: `frontend-agent`  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –≠—Ç–∞–ø 1 ‚úÖ  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ó–∞–¥–∞—á–∏:
- [x] –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `getData('header_dates')` –∏ –ø–∞—Ä—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–∞—Ç (rows).
- [x] –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö –¥–∞—Ç –∏–∑ `rows`.
- [x] –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã ‚Äî –ø–æ —Ñ–ª–∞–≥–∞–º `isP1/isP2/isP3`.
- [x] –ü–æ Apply –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (–æ–±–Ω–æ–≤–ª—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∞–±–ª–∏—Ü –∏ KPI).
- [x] –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∫–∏ –¥–∞—Ç –∏ –ª—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `periodDate` –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
- [x] –û–±–Ω–æ–≤–∏—Ç—å `docs/context/frontend.md`.
- [x] –ü—Ä–æ–≥–Ω–∞—Ç—å `npm run test:frontend`.

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `src/lib/api.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `PeriodDate`
- `src/components/DatePicker.tsx` ‚Äî –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –¥–∞—Ç
- `src/pages/DynamicDashboard.tsx` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DatePicker, –ø–∞—Ä—Å–∏–Ω–≥ header_dates
- `docs/context/frontend.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [x] –î–∞—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∫–ª–∏–∫–æ–º, p1/p2/p3 –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é (—á–µ—Ä–µ–∑ API).
- [x] –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ —Å–Ω–∏–º–∞–µ—Ç –≤—ã–±–æ—Ä.
- [x] –¢–µ—Å—Ç—ã —Ñ—Ä–æ–Ω—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç (60/60).

### üìã –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è Executor (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Task tool!):

```javascript
Task(
  subagent_type: "frontend-agent",
  description: "Integrate header_dates API and remove mocks",
  prompt: `
    –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:
    1. –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/agents/frontend-agent.md
    2. –ü—Ä–æ—á–∏—Ç–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: docs/context/frontend.md
    3. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π –¢–û–õ–¨–ö–û —Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø–ª–∞–Ω–µ
    4. –ù–ï –¥–æ–±–∞–≤–ª—è–π fallback/legacy –ª–æ–≥–∏–∫—É

    –ü—Ä–æ—á–∏—Ç–∞–π –ø–ª–∞–Ω: docs/plans/current/J1_J2_DATES_SELECTION.md, —Ä–∞–∑–¥–µ–ª "–≠—Ç–∞–ø 3: Frontend (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)"
    
    –í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞.
    
    –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
    - –ü—Ä–æ–≤–µ—Ä—å —Å–±–æ—Ä–∫—É: npm run build
    - –ü—Ä–æ–≥–æ–Ω–∏ —Ç–µ—Å—Ç—ã: npm run test:frontend
    - –û–±–Ω–æ–≤–∏ docs/context/frontend.md
    - –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ –≤ –ø–ª–∞–Ω–µ –Ω–∞ ‚úÖ
  `
)
```

---

## –≠—Ç–∞–ø 4: QA ‚è∏Ô∏è

**–°—É–±–∞–≥–µ–Ω—Ç**: `qa-agent`  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –≠—Ç–∞–ø—ã 1, 3 ‚úÖ  
**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç

### –ó–∞–¥–∞—á–∏:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `header_dates` –æ—Ç–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –¥–∞—Ç –∏ —Ñ–ª–∞–≥–∏.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UI –≤—ã–±–æ—Ä–∞ –¥–∞—Ç –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü/KPI.
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å `e2e/header-component.spec.ts` –∏ `e2e/kpi-cards-display.spec.ts`.

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `docs/plans/reports/QA_DATES_SELECTION.md` (–µ—Å–ª–∏ –µ—Å—Ç—å –±–∞–≥–∏)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [ ] –î–∞—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.

### üìã –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ Executor):

```
–ó–∞–ø—É—Å—Ç–∏ qa-agent:
- –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/agents/qa-agent.md
- –ü—Ä–æ—á–∏—Ç–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: docs/context/frontend.md
- –ü—Ä–æ—á–∏—Ç–∞–π docs/plans/current/J1_J2_DATES_SELECTION.md, —Ä–∞–∑–¥–µ–ª "–≠—Ç–∞–ø 4: QA"
- –ü—Ä–æ–≥–æ–Ω: npm run test:e2e -- --reporter=list e2e/header-component.spec.ts
- –ü—Ä–æ–≥–æ–Ω: npm run test:e2e -- --reporter=list e2e/kpi-cards-display.spec.ts
- –ï—Å–ª–∏ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç ‚Äî –æ—Ñ–æ—Ä–º–∏ –æ—Ç—á—ë—Ç
```

---

## –≠—Ç–∞–ø 5: Docs ‚úÖ

**–°—É–±–∞–≥–µ–Ω—Ç**: `docs-agent`  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –≠—Ç–∞–ø—ã 1‚Äì3 ‚úÖ  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ó–∞–¥–∞—á–∏:
- [x] –û–±–Ω–æ–≤–∏—Ç—å `docs/api/get-data.md` (—Ñ–æ—Ä–º–∞—Ç `header_dates`).
- [x] –û–±–Ω–æ–≤–∏—Ç—å `docs/architecture/layout.md` (–∫–∞–∫ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –¥–∞—Ç—ã).
- [x] –û–±–Ω–æ–≤–∏—Ç—å `docs/database/schemas.md` (–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π VIEW).

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `docs/api/get-data.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ header_dates —Å –ø–æ–ª—è–º–∏ periodDate, isP1, isP2, isP3
- `docs/architecture/layout.md` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ DatePicker –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç
- `docs/database/schemas.md` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ VIEW mart.v_p_dates

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–≤–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –¥–∞—Ç.

### üìã –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è Executor (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Task tool!):

```javascript
Task(
  subagent_type: "docs-agent",
  description: "Update docs for new header_dates contract",
  prompt: `
    –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/agents/docs-agent.md
    –ü—Ä–æ—á–∏—Ç–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: docs/context/index.md
    –ü—Ä–æ—á–∏—Ç–∞–π –ø–ª–∞–Ω: docs/plans/current/J1_J2_DATES_SELECTION.md, —Ä–∞–∑–¥–µ–ª "–≠—Ç–∞–ø 5: Docs"
    
    –í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞.
    
    –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
    - –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ VitePress
    - –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ –≤ –ø–ª–∞–Ω–µ –Ω–∞ ‚úÖ
  `
)
```

---

## –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ Executor –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
# Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
cd backend && npm run build

# Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
npm run build
```

---

## –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –î–∞—Ç–∞ | –≠—Ç–∞–ø | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|------|-----------|-------------|
| 2026-02-09 | –≠—Ç–∞–ø 1: Backend | ‚úÖ | –ú–∏–≥—Ä–∞—Ü–∏–∏ 056, 057. dataRoutes.ts –±–µ–∑ —Å–ø–µ—Ü-–æ–±—Ä–∞–±–æ—Ç–∫–∏. periodService deprecated. |
| 2026-02-09 | –≠—Ç–∞–ø 3: Frontend | ‚úÖ | DatePicker –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, PeriodDate –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DynamicDashboard. Build OK, 60/60 —Ç–µ—Å—Ç–æ–≤. |
| 2026-02-09 | –≠—Ç–∞–ø 5: Docs | ‚úÖ | –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ header_dates: get-data.md, layout.md, schemas.md. |
