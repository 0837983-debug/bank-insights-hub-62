import {
  LandmarkIcon,
  TrendingUpIcon,
  PercentIcon,
  ActivityIcon,
  WalletIcon,
  UsersIcon,
  UserCheckIcon,
  UserMinusIcon,
  DollarSignIcon,
  PieChartIcon,
  TargetIcon,
  LayersIcon,
  RepeatIcon,
  ArrowRightLeft,
  TrendingDown,
  Globe,
  CreditCard,
  Users,
  RefreshCwIcon,
  BarChart3Icon,
} from "lucide-react";
import React from "react";

export interface DashboardKPI {
  id: string;
  title: string;
  value: string;
  subtitle?: string;
  description: string;
  change: number;
  category: string;
  icon: React.ReactNode;
}

export const allDashboardKPIs: DashboardKPI[] = [
  // Financial Results
  {
    id: "capital",
    title: "Капитал",
    value: "₽8.2 млрд",
    subtitle: "Регуляторный капитал",
    description: "Совокупный капитал банка, включающий уставный, добавочный и резервный капитал для покрытия рисков.",
    change: 5.2,
    category: "Финансы",
    icon: <LandmarkIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "ebitda",
    title: "EBITDA",
    value: "₽2.1 млрд",
    subtitle: "За вычетом резервов",
    description: "Прибыль до вычета процентов, налогов, износа и амортизации, скорректированная на созданные резервы.",
    change: 12.3,
    category: "Финансы",
    icon: <TrendingUpIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "cost-to-income",
    title: "Cost-to-Income",
    value: "42.5%",
    subtitle: "Операционная эффективность",
    description: "Отношение операционных расходов к операционным доходам. Показывает эффективность управления расходами.",
    change: -3.1,
    category: "Финансы",
    icon: <PercentIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "roa",
    title: "ROA",
    value: "2.8%",
    subtitle: "Рентабельность активов",
    description: "Return on Assets — отношение чистой прибыли к средним активам. Показывает эффективность использования активов.",
    change: 0.4,
    category: "Финансы",
    icon: <ActivityIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "roe",
    title: "ROE",
    value: "18.2%",
    subtitle: "Рентабельность капитала",
    description: "Return on Equity — отношение чистой прибыли к собственному капиталу. Показывает доходность для акционеров.",
    change: 2.1,
    category: "Финансы",
    icon: <WalletIcon className="w-6 h-6 text-accent" />,
  },

  // Client Base
  {
    id: "mau",
    title: "MAU",
    value: "2.4 млн",
    subtitle: "Ежемесячно активные клиенты",
    description: "Число уникальных клиентов, совершивших ≥1 операцию за месяц",
    change: 8.5,
    category: "Клиенты",
    icon: <UsersIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "dau",
    title: "DAU",
    value: "785 тыс",
    subtitle: "Ежедневно активные клиенты",
    description: "Число уникальных клиентов, совершивших ≥1 операцию за день",
    change: 6.2,
    category: "Клиенты",
    icon: <UserCheckIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "arpu",
    title: "ARPU",
    value: "₽1,475",
    subtitle: "Средний доход на клиента",
    description: "Средний доход на одного клиента за период",
    change: 5.8,
    category: "Клиенты",
    icon: <WalletIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "retention",
    title: "Retention",
    value: "78.5%",
    subtitle: "Месячное удержание",
    description: "Доля клиентов, совершивших ≥1 операцию и в текущем, и в предыдущем месяце",
    change: 2.1,
    category: "Клиенты",
    icon: <TrendingUpIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "churn",
    title: "Churn",
    value: "4.2%",
    subtitle: "Ушедшие клиенты",
    description: "Доля клиентов, активных в прошлом месяце, но не совершивших операций в текущем",
    change: -1.3,
    category: "Клиенты",
    icon: <UserMinusIcon className="w-6 h-6 text-accent" />,
  },

  // Products
  {
    id: "total-revenue",
    title: "Общая выручка",
    value: "₽4.9 млрд",
    description: "Суммарная выручка по всем продуктовым линиям",
    change: 11.8,
    category: "Продукты",
    icon: <DollarSignIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "top-product",
    title: "Топ-продукт",
    value: "58%",
    subtitle: "Международные переводы",
    description: "Доля ведущего продукта в общей выручке",
    change: 1.8,
    category: "Продукты",
    icon: <PieChartIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "avg-arppu",
    title: "Средний ARPPU",
    value: "₽8.6 тыс",
    description: "Средняя выручка на платящего пользователя по всем продуктам",
    change: 4.2,
    category: "Продукты",
    icon: <TargetIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "cross-sell",
    title: "Cross-sell Index",
    value: "2.1",
    description: "Среднее количество продуктов на одного клиента",
    change: 5.0,
    category: "Продукты",
    icon: <LayersIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "multiproduct",
    title: "Мультипродуктовые",
    value: "57.2%",
    description: "Доля клиентов, использующих 2 и более продукта",
    change: 2.8,
    category: "Продукты",
    icon: <RepeatIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "active-pau",
    title: "Активные PAU",
    value: "572.5 тыс",
    description: "Общее количество уникальных активных пользователей продуктов",
    change: 9.2,
    category: "Продукты",
    icon: <UsersIcon className="w-6 h-6 text-accent" />,
  },

  // Transactions
  {
    id: "total-transactions",
    title: "Кол-во транзакций",
    value: "12.5 млн",
    description: "Суммарное количество всех типов транзакций за период",
    change: 14.2,
    category: "Транзакции",
    icon: <ArrowRightLeft className="w-6 h-6 text-accent" />,
  },
  {
    id: "decline-rate",
    title: "Уровень отказов",
    value: "1.8%",
    description: "Доля неуспешных транзакций (decline rate)",
    change: -0.3,
    category: "Транзакции",
    icon: <TrendingDown className="w-6 h-6 text-accent" />,
  },
  {
    id: "international-share",
    title: "Доля международных",
    value: "7.1%",
    description: "Доля международных переводов в общем объёме транзакций",
    change: 1.2,
    category: "Транзакции",
    icon: <Globe className="w-6 h-6 text-accent" />,
  },
  {
    id: "card-ops-share",
    title: "Доля карточных",
    value: "42.4%",
    description: "Доля операций POS + e-commerce в общем объёме",
    change: 3.8,
    category: "Транзакции",
    icon: <CreditCard className="w-6 h-6 text-accent" />,
  },
  {
    id: "p2p-share",
    title: "Доля P2P",
    value: "14.8%",
    description: "Доля P2P переводов между физическими лицами",
    change: 2.1,
    category: "Транзакции",
    icon: <Users className="w-6 h-6 text-accent" />,
  },

  // Conversion
  {
    id: "fx-transactions",
    title: "FX-сделки",
    value: "705.5K",
    description: "Общее количество конверсионных операций за период",
    change: 9.4,
    category: "Конвертация",
    icon: <RefreshCwIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "fx-avg-check",
    title: "Средний чек FX",
    value: "₽214.8K",
    description: "Средний объём одной конверсионной операции",
    change: 3.2,
    category: "Конвертация",
    icon: <BarChart3Icon className="w-6 h-6 text-accent" />,
  },
  {
    id: "fx-spread",
    title: "FX-спред",
    value: "1.82%",
    description: "Средневзвешенный спред по всем FX-операциям",
    change: -0.08,
    category: "Конвертация",
    icon: <PercentIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "fx-clients",
    title: "FX клиенты",
    value: "186.4K",
    description: "Количество уникальных клиентов, совершавших конверсии",
    change: 12.6,
    category: "Конвертация",
    icon: <UsersIcon className="w-6 h-6 text-accent" />,
  },
  {
    id: "fx-per-client",
    title: "FX на клиента",
    value: "3.78",
    description: "Среднее количество FX-операций на одного клиента",
    change: -2.8,
    category: "Конвертация",
    icon: <ActivityIcon className="w-6 h-6 text-accent" />,
  },
];

export const defaultSelectedKPIs = [
  "capital",
  "ebitda",
  "roe",
  "mau",
];

export const kpiCategories = [
  "Финансы",
  "Клиенты",
  "Продукты",
  "Транзакции",
  "Конвертация",
];
