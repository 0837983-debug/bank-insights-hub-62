# План: Шаг 6 — Docs

**Цель:** обновить документацию по layout (data_source_key).
**Статус:** ✅ Завершено

## Задачи
- [x] Описать, что layout возвращает data_source_key для компонентов. ✅

## Файлы для изменения
- `docs/architecture/layout.md` ✅ (создан)

## Критерии завершения
- [x] Документация актуальна ✅

## Выполнено

### Создана документация

1. **docs/architecture/layout.md:**
   - Создан новый файл с описанием архитектуры layout системы
   - Описано, как `layoutService` возвращает `dataSourceKey` для всех типов компонентов
   - Добавлены примеры использования `dataSourceKey` для разных типов компонентов
   - Описан поток данных от layout до получения данных через `/api/data`
   - Добавлена информация о миграции компонентов на использование `dataSourceKey`
   - Включены диаграммы архитектуры и потока данных

### Ключевые разделы документации

- **Архитектура Layout** - общая структура системы
- **Компоненты Layout** - типы компонентов и их структура
- **data_source_key** - назначение и как это работает
- **Возврат data_source_key в Layout** - реализация в layoutService
- **Поток данных** - описание получения layout и данных компонентов
- **Преимущества** - преимущества использования dataSourceKey
- **Миграция** - статус миграции компонентов
